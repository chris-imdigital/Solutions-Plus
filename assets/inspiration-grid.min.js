(() => {
  // src/scripts/inspiration-grid.js
  (function() {
    "use strict";
    var INITIAL_COUNT = 12;
    var BATCH_SIZE = 12;
    var DESKTOP_COLS = 4;
    var MOBILE_COLS = 2;
    var MOBILE_BREAKPOINT = 750;
    var SIZE_PATTERNS = [
      ["tall", "medium", "short", "xtall"],
      // Col 1
      ["medium", "xtall", "tall", "short"],
      // Col 2
      ["xtall", "short", "medium", "tall"],
      // Col 3
      ["short", "medium", "tall", "xtall"]
      // Col 4
    ];
    var MOBILE_SIZE_PATTERNS = [
      ["tall", "short", "medium", "xtall"],
      ["short", "tall", "xtall", "medium"]
    ];
    function init() {
      var container = document.querySelector("[data-inspiration-grid]");
      if (!container) return;
      var pool = container.querySelector("[data-card-pool]");
      var columnsWrapper = container.querySelector("[data-masonry-columns]");
      var filterTabs = container.querySelectorAll("[data-filter-tab]");
      var loadMoreBtn = container.querySelector("[data-load-more]");
      if (!pool || !columnsWrapper) return;
      var allCards = Array.from(pool.children).sort(function(a, b) {
        var aId = parseInt(a.getAttribute("data-entry-id") || "0", 10);
        var bId = parseInt(b.getAttribute("data-entry-id") || "0", 10);
        return bId - aId;
      });
      var filteredCards = allCards.slice();
      var visibleCount = 0;
      var activeFilter = "all";
      function getColumnCount() {
        return window.innerWidth >= MOBILE_BREAKPOINT ? DESKTOP_COLS : MOBILE_COLS;
      }
      function createColumns(count) {
        columnsWrapper.innerHTML = "";
        var cols = [];
        for (var i = 0; i < count; i++) {
          var col = document.createElement("div");
          col.className = "inspiration-masonry__column";
          col.setAttribute("data-masonry-column", "");
          columnsWrapper.appendChild(col);
          cols.push(col);
        }
        return cols;
      }
      function distributeCards(cards, limit) {
        var colCount = getColumnCount();
        var columns = createColumns(colCount);
        var patterns = colCount === DESKTOP_COLS ? SIZE_PATTERNS : MOBILE_SIZE_PATTERNS;
        var count = Math.min(cards.length, limit);
        var rowCounters = new Array(colCount).fill(0);
        for (var i = 0; i < count; i++) {
          var colIndex = i % colCount;
          var col = columns[colIndex];
          var clone = cards[i].cloneNode(true);
          var pattern = patterns[colIndex];
          var size = pattern[rowCounters[colIndex] % pattern.length];
          var cardEl = clone.querySelector(".inspiration-card");
          if (cardEl) {
            cardEl.classList.add("inspiration-card--" + size);
          }
          col.appendChild(clone);
          rowCounters[colIndex]++;
        }
        return count;
      }
      function applyFilter(category) {
        activeFilter = category;
        if (category === "all") {
          filteredCards = allCards.slice();
        } else {
          filteredCards = allCards.filter(function(card) {
            return card.querySelector("[data-category]") && card.querySelector("[data-category]").getAttribute("data-category") === category;
          });
        }
        visibleCount = distributeCards(filteredCards, INITIAL_COUNT);
        updateLoadMore();
      }
      function updateLoadMore() {
        if (!loadMoreBtn) return;
        if (visibleCount >= filteredCards.length) {
          loadMoreBtn.style.display = "none";
        } else {
          loadMoreBtn.style.display = "";
        }
      }
      function loadMore() {
        var nextCount = Math.min(visibleCount + BATCH_SIZE, filteredCards.length);
        visibleCount = distributeCards(filteredCards, nextCount);
        updateLoadMore();
      }
      filterTabs.forEach(function(tab) {
        tab.addEventListener("click", function() {
          filterTabs.forEach(function(t) {
            t.classList.remove("inspiration-filter__tab--active");
          });
          tab.classList.add("inspiration-filter__tab--active");
          applyFilter(tab.getAttribute("data-filter-tab"));
        });
      });
      if (loadMoreBtn) {
        loadMoreBtn.addEventListener("click", loadMore);
      }
      var currentColCount = getColumnCount();
      window.addEventListener("resize", function() {
        var newColCount = getColumnCount();
        if (newColCount !== currentColCount) {
          currentColCount = newColCount;
          visibleCount = distributeCards(filteredCards, visibleCount);
          updateLoadMore();
        }
      });
      applyFilter("all");
    }
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", init);
    } else {
      init();
    }
  })();
})();
//# sourceMappingURL=inspiration-grid.min.js.map
