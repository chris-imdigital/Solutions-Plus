<section id="shopify-section-{{ section.id }}" class="w-full relative">
  
  {% assign wrapper_class = '' %}
  {% if section.settings.full_width == false %}
    {% assign wrapper_class = 'container' %}
  {% endif %}

  <div class="{{ wrapper_class }}">
    <div class="relative {% if section.settings.max_height != blank %}overflow-hidden{% endif %}"
      {% if section.settings.max_height != blank %}
        style="max-height: {{ section.settings.max_height }}px;"
      {% endif %}
    >
      {%- comment -%} Image {%- endcomment -%}
      <picture class="block">
        {% if section.settings.mobile_image %}
          <source 
            media="(max-width: 639px)" 
            srcset="{{ section.settings.mobile_image | image_url: width: 800 }}">
        {% endif %}

        {% if section.settings.tablet_image %}
          <source 
            media="(max-width: 1023px)" 
            srcset="{{ section.settings.tablet_image | image_url: width: 1200 }}">
        {% endif %}

        {% if section.settings.desktop_image %}
          <img 
            src="{{ section.settings.desktop_image | image_url: width: 2000 }}"
            alt="{{ section.settings.title | default: 'Hero banner' }}"
            class="w-full h-full object-cover">
        {% endif %}
      </picture>

      {%- comment -%} Overlay {%- endcomment -%}
      {% if section.settings.show_overlay %}
        <div 
          class="absolute inset-0"
          style="background-color: {{ section.settings.overlay_color }}; opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }};"
        ></div>
      {% endif %}

      {%- comment -%} Content {%- endcomment -%}
      {% if section.settings.title != blank or section.settings.description != blank or section.settings.button_text != blank %}
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center px-4 max-w-3xl">
            {% if section.settings.title != blank %}
              <h1 
                class="text-[32px] md:text-[40px] font-bold mb-4"
                style="color: {{ section.settings.text_color }};"
              >
                {{ section.settings.title }}
              </h1>
            {% endif %}

            {% if section.settings.description != blank %}
              <p 
                class="text-lg mb-6 max-w-[565px]"
                style="color: {{ section.settings.text_color }};"
              >
                {{ section.settings.description }}
              </p>
            {% endif %}

            {% if section.settings.button_text != blank %}
              <a 
                href="{{ section.settings.button_link }}" 
                class="btn"
              >
                {{ section.settings.button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}

    </div>
  </div>

</section>

{% schema %}
{
  "name": "Simple Hero",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width image",
      "default": true
    },
    {
      "type": "number",
      "id": "max_height",
      "label": "Max height (px)",
      "info": "Leave empty for auto height"
    },
    {
      "type": "header",
      "content": "Images"
    },
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop image"
    },
    {
      "type": "image_picker",
      "id": "tablet_image",
      "label": "Tablet image"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile image"
    },
    {
      "type": "header",
      "content": "Overlay"
    },
    {
      "type": "checkbox",
      "id": "show_overlay",
      "label": "Show overlay",
      "default": false
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 40,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Simple Hero"
    }
  ]
}
{% endschema %}